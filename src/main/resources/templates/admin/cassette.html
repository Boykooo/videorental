<!DOCTYPE HTML>
<html xmlns:th="http://www.thymeleaf.org">
<head>
    <title>Cassette</title>
    <meta charset="utf-8"/>

    <!--Bootstrap-->
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0/css/bootstrap.min.css"/>
    <script src="https://code.jquery.com/jquery-3.2.1.slim.min.js"></script>
    <script src="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0/js/bootstrap.min.js"></script>

    <link rel="stylesheet" type="text/css" href="/css/common.css"/>

    <!-- Global site tag (gtag.js) - Google Analytics -->
    <script async="async" src="https://www.googletagmanager.com/gtag/js?id=UA-117018295-1"></script>
    <script>
        window.dataLayer = window.dataLayer || [];
        function gtag(){dataLayer.push(arguments);}
        gtag('js', new Date());

        gtag('config', 'UA-117018295-1');
    </script>
</head>
<body>

<div th:include="navigation/admin_navigation">
</div>

<div th:include="dialogs/new_cassette">
</div>

<div class="container-fluid" style="margin-top: 30px">
    <div class="row">
        <div class="col-md-2">
        </div>

        <div class="col-md-8">
            <button class="btn btn-primary" data-toggle="modal" data-target="#newCassette">
                Добавить кассету
            </button>
            <h2>Список кассет</h2>
            <table class="table table-striped table-bordered">
                <thead>
                <tr>
                    <th>ID</th>
                    <th>Название</th>
                    <th>Жанр</th>
                    <th>Описание</th>
                    <th>Дата выхода</th>
                    <th>Режиссер</th>
                    <th>Стоимость</th>
                    <th></th>
                    <th></th>
                </tr>
                </thead>
                <th:block th:each="cassette : ${cassettes}">
                    <tr class="th-limit-words" style="overflow: hidden">
                        <td th:text="${cassette.id}"></td>
                        <td th:text="${cassette.name}"></td>
                        <td th:text="${cassette.genre}"></td>
                        <td th:text="${cassette.description}"></td>
                        <td th:text="${cassette.releaseDate}"></td>
                        <td th:text="${cassette.director}"></td>
                        <td th:text="${cassette.cost}"></td>
                        <td>
                            <a class="btn btn-primary" role="button"
                               th:href="@{'/admin/cassette/' + ${cassette.id} + '?token=' + ${token}}">
                                Редактировать
                            </a>
                        </td>
                        <td>
                            <form action="#" th:action="@{'/admin/cassette/' + ${cassette.id} + '?token=' + ${token}}" th:method="DELETE">
                                <button class="btn btn-danger" role="button" type="submit">
                                    Удалить
                                </button>
                            </form>
                        </td>
                    </tr>
                </th:block>
            </table>
        </div>
    </div>
</div>


<div class="col-md-2">
</div>

</body>
</html>